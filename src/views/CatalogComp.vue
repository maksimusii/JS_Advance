<template>
<div>
    <breacrumb-comp/>
    <section class="catalog">
        <div class="catalog_sidebar">
            <details class="catalog_sidebar_details">
                <summary class="catalog_sidebar_summary catalog_sidebar_first">Category</summary>
                <ul class="catalog_sidebar_ul">
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Accessories</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Bags</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Denim</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Hoodies & Sweatshirts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Jackets & Coats</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Pants</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Polos</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Shirts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Shoes</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Shorts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Sweaters & Knits</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">T-Shirts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Tanks</a></li>
                </ul>
            </details>
            <details class="catalog_sidebar_details">
                <summary class="catalog_sidebar_summary catalog_sidebar_mid">Brand</summary>
                <ul class="catalog_sidebar_ul">
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Accessories</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Bags</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Denim</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Hoodies & Sweatshirts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Jackets & Coats</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Pants</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Polos</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Shirts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Shoes</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Shorts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Sweaters & Knits</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">T-Shirts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Tanks</a></li>
                </ul>
            </details>
            <details class="catalog_sidebar_details">
                <summary class="catalog_sidebar_summary">Designer</summary>
                <ul class="catalog_sidebar_ul">
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Accessories</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Bags</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Denim</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Hoodies & Sweatshirts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Jackets & Coats</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Pants</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Polos</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Shirts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Shoes</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Shorts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Sweaters & Knits</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">T-Shirts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Tanks</a></li>
                </ul>
            </details>
        </div>
        <div class="catalog_right_side">
            <div class="catalog__filter">
                <div class="catalog__filter_trending">
                    <h1 class="catalog__filter_trending_h1">Trending now</h1>
                    <ul class="catalog__filter_ul">
                        <li class="catalog__filter_list"><a href="#" class="catalog__filter_link">Bohemian</a></li>
                        <li class="catalog__filter_list"><a href="#" class="catalog__filter_link">Floral</a></li>
                        <li class="catalog__filter_list"><a href="#" class="catalog__filter_link catalog__filter_link_noborder">Lace </a></li>
                        <li class="catalog__filter_list"><a href="#" class="catalog__filter_link">Floral</a></li>
                        <li class="catalog__filter_list"><a href="#" class="catalog__filter_link">Lace</a></li>
                        <li class="catalog__filter_list"><a href="#" class="catalog__filter_link catalog__filter_link_noborder">Bohemian</a></li>
                    </ul>
                </div>
                <div class="catalog__filter_size">
                <h1 class="catalog__filter_trending_h1">Size</h1>
                    <ul class="catalog__filter_size_ul">
                        <li class="catalog__filter_list"> <input class="catalog__filter_size_checkbox" type="checkbox"> <a class="catalog__filter_size_link" href="">XXS</a></li>
                        <li class="catalog__filter_list catalog__filter_size_list"><input type="checkbox"> <a class="catalog__filter_size_link" href="">XS</a></li>
                        <li class="catalog__filter_list catalog__filter_size_list"><input type="checkbox"> <a class="catalog__filter_size_link" href="">S</a></li>
                        <li class="catalog__filter_list catalog__filter_size_list"><input type="checkbox"> <a class="catalog__filter_size_link" href="">M</a></li>
                        <li class="catalog__filter_list "><input type="checkbox"> <a class="catalog__filter_size_link" href="">L</a></li>
                        <li class="catalog__filter_list catalog__filter_size_list catalog__filter_size_list_last"><input type="checkbox"> <a class="catalog__filter_size_link" href="">XL</a></li>
                        <li class="catalog__filter_list catalog__filter_size_list "><input type="checkbox"> <a class="catalog__filter_size_link" href="">XXL</a></li>
                    </ul>
                </div>
                <div class="catalog__filter_price">
                    <h1 class="catalog__filter_trending_h1 catalog__filter_price_h1">Price</h1>
                    <progress class="catalog__filter_price_progress" value="124" max="262"></progress>

                    <ul class="catalog__filter_ul">
                        <li class="catalog__filter_price_list"><a href="#" class="catalog__filter_price_link">52$</a></li>
                        <li class="catalog__filter_price_list"><a href="#" class="catalog__filter_price_link_last">400$</a></li>
                    </ul>
                </div>
            </div>
            <div class="catalog__filter_down">
                <p class="catalog__filter_down_header">Sort by</p>
                <select class="catalog__filter_down_select" name="Name" >
                    <option class="catalog__filter_down_option" value="value1">Name</option>
                </select>
                <p class="catalog__filter_down_header catalog__filter_down_header_right">Show</p>
                <select class="catalog__filter_down_select catalog__filter_down_select_right" name="Name" v-model="num">
                    <option class="catalog__filter_down_option" v-for="num in showNumbers" :key="num" >{{num}}</option>
                </select>
            </div>
            <div class="catalog__product">
                <div class="catalog__product_block">
                    <div class="items_up">
                        <ul class="items_list">
                            <li  v-for="item in $parent.$refs.get.filtered.slice(startPos, num)" :key="item.id_product">
                                    <div class="items">
                                        <router-link :to="{name: 'Product', params: {id: item.id_product}}" type="button">
                                        <img class="items_img" :src="`./img/${item.product_img}`" alt="">
                                        <div class="items_content_block">
                                            <h1 class="items__h1">{{item.product_name}}</h1>
                                            <h1 class="items_price__h1">{{item.price}}â‚½</h1>
                                        </div>
                                        </router-link>
                                        <a class="items_add_cart" type="button" @click="$parent.$refs.cart.addProduct(item)" ><i class="fa fa-shopping-cart"></i>Add to cart</a>
                                    </div>
                            </li>
                        </ul>
                    </div>

                </div>
                <div class="catalog_paggination">
                    <ul class="catalog_paggination_ul">
                        <li class="catalog_paggination_list"><a type="button" class="catalog_paggination_link">&lt;</a></li>
                        <li class="catalog_paggination_list" ><a type="button" class="catalog_paggination_link" @click="startPos= 9*(pageNum-1), num = startPos + 9" v-for="pageNum in showNumbers.slice(0,Math.ceil(this.$parent.$refs.get.filtered.length / 9))" :key="pageNum" >{{pageNum}}</a></li>
                        <li class="catalog_paggination_list"><a type="button" class="catalog_paggination_link ">&gt;</a></li>
                    </ul>
                    <a class="catalog_product_button_link" v-on:click.stop="doThis" @click="num = $parent.$refs.get.filtered.length">All view</a>
                </div>
            </div>
        </div>
    </section>
    <feature-comp/>
    </div>
</template>

<script>
import BreacrumbComp from '../views/BreadcrumbComp'
import FeatureComp from '../views/FeatureComp'

export default {
  props: ['product'],
  data () {
    return {
      showNumbers: [1, 2, 3, 4, 5, 6, 7, 8, 9],
      num: 9,
      startPos: 0,
      pageNum: 1,
      allPageNum: Math.ceil(this.$parent.$refs.get.filtered.length / 9)
    }
  },
  components: {
    BreacrumbComp,
    FeatureComp
  }
}
</script>
