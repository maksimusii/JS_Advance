<template>
<div>
    <breacrumb-comp/>
    <section class="catalog">
        <div class="catalog_sidebar">
            <details class="catalog_sidebar_details">
                <summary class="catalog_sidebar_summary catalog_sidebar_first">Category</summary>
                <ul class="catalog_sidebar_ul">
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Accessories</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Bags</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Denim</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Hoodies & Sweatshirts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Jackets & Coats</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Pants</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Polos</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Shirts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Shoes</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Shorts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Sweaters & Knits</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">T-Shirts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Tanks</a></li>
                </ul>
            </details>
            <details class="catalog_sidebar_details">
                <summary class="catalog_sidebar_summary catalog_sidebar_mid">Brand</summary>
                <ul class="catalog_sidebar_ul">
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Accessories</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Bags</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Denim</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Hoodies & Sweatshirts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Jackets & Coats</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Pants</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Polos</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Shirts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Shoes</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Shorts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Sweaters & Knits</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">T-Shirts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Tanks</a></li>
                </ul>
            </details>
            <details class="catalog_sidebar_details">
                <summary class="catalog_sidebar_summary">Designer</summary>
                <ul class="catalog_sidebar_ul">
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Accessories</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Bags</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Denim</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Hoodies & Sweatshirts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Jackets & Coats</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Pants</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Polos</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Shirts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Shoes</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Shorts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Sweaters & Knits</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">T-Shirts</a></li>
                    <li class="catalog_sidebar_list"><a href="" class="catalog_sidebar_link">Tanks</a></li>
                </ul>
            </details>
        </div>
        <div class="catalog_right_side">
            <div class="catalog__filter">
                <div class="catalog__filter_trending">
                    <h1 class="catalog__filter_trending_h1">Trending now</h1>
                    <ul class="catalog__filter_ul">
                        <li class="catalog__filter_list"><a href="#" class="catalog__filter_link">Bohemian</a></li>
                        <li class="catalog__filter_list"><a href="#" class="catalog__filter_link">Floral</a></li>
                        <li class="catalog__filter_list"><a href="#" class="catalog__filter_link catalog__filter_link_noborder">Lace </a></li>
                        <li class="catalog__filter_list"><a href="#" class="catalog__filter_link">Floral</a></li>
                        <li class="catalog__filter_list"><a href="#" class="catalog__filter_link">Lace</a></li>
                        <li class="catalog__filter_list"><a href="#" class="catalog__filter_link catalog__filter_link_noborder">Bohemian</a></li>
                    </ul>
                </div>
                <div class="catalog__filter_size">
                <h1 class="catalog__filter_trending_h1">Size</h1>
                    <ul class="catalog__filter_size_ul">
                        <li class="catalog__filter_list"> <input class="catalog__filter_size_checkbox" type="checkbox"> <a class="catalog__filter_size_link" href="">XXS</a></li>
                        <li class="catalog__filter_list catalog__filter_size_list"><input type="checkbox"> <a class="catalog__filter_size_link" href="">XS</a></li>
                        <li class="catalog__filter_list catalog__filter_size_list"><input type="checkbox"> <a class="catalog__filter_size_link" href="">S</a></li>
                        <li class="catalog__filter_list catalog__filter_size_list"><input type="checkbox"> <a class="catalog__filter_size_link" href="">M</a></li>
                        <li class="catalog__filter_list "><input type="checkbox"> <a class="catalog__filter_size_link" href="">L</a></li>
                        <li class="catalog__filter_list catalog__filter_size_list catalog__filter_size_list_last"><input type="checkbox"> <a class="catalog__filter_size_link" href="">XL</a></li>
                        <li class="catalog__filter_list catalog__filter_size_list "><input type="checkbox"> <a class="catalog__filter_size_link" href="">XXL</a></li>
                    </ul>
                </div>
                <div class="catalog__filter_price">
                    <h1 class="catalog__filter_trending_h1 catalog__filter_price_h1">Price</h1>
                    <progress class="catalog__filter_price_progress" value="124" max="262"></progress>

                    <ul class="catalog__filter_ul">
                        <li class="catalog__filter_price_list"><a href="#" class="catalog__filter_price_link">52$</a></li>
                        <li class="catalog__filter_price_list"><a href="#" class="catalog__filter_price_link_last">400$</a></li>
                    </ul>
                </div>
            </div>
            <div class="catalog__filter_down">
                <p class="catalog__filter_down_header">Sort by</p>
                <select class="catalog__filter_down_select" name="Name" >
                    <option class="catalog__filter_down_option" value="value1">Name</option>
                </select>
                <p class="catalog__filter_down_header catalog__filter_down_header_right">Show</p>
                <select v-model="showNumber" class="catalog__filter_down_select catalog__filter_down_select_right" name="Name">
                    <option class="catalog__filter_down_option" :value="showNumber">1</option>
                    <option class="catalog__filter_down_option" :value="showNumber">2</option>
                    <option class="catalog__filter_down_option" :value="showNumber">3</option>
                    <option class="catalog__filter_down_option" :value="showNumber">4</option>
                    <option class="catalog__filter_down_option" :value="showNumber">5</option>
                    <option class="catalog__filter_down_option" :value="showNumber">6</option>
                    <option class="catalog__filter_down_option" :value="showNumber">7</option>
                    <option class="catalog__filter_down_option" :value="showNumber">8</option>
                    <option class="catalog__filter_down_option" :value="showNumber">9</option>
                </select>
            </div>
            <div class="catalog__product">
                <div class="catalog__product_block">

                    <div class="items_up">
                        <ul class="items_list">
                            <li  v-for="item in filtered" :key="item.id_product">
                                <a href="#">
                                    <div class="items">
                                        <img class="items_img" :src="`./img/${item.product_img}`" alt="">
                                        <div class="items_content_block">
                                            <h1 class="items__h1">{{item.product_name}}</h1>
                                            <h1 class="items_price__h1">{{item.price}}₽</h1>
                                        </div>
                                        <p class="items_add_cart"  @click="$parent.$refs.cart.addProduct(item)" ><i class="fa fa-shopping-cart"></i>Add to cart</p>
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </div>

                </div>
                <div class="catalog_paggination">
                    <ul class="catalog_paggination_ul">
                        <li class="catalog_paggination_list"><a href="" class="catalog_paggination_link"></a></li>
                        <li class="catalog_paggination_list"><a href="" class="catalog_paggination_link">1</a></li>
                        <li class="catalog_paggination_list"><a href="" class="catalog_paggination_link">2</a></li>
                        <li class="catalog_paggination_list"><a href="" class="catalog_paggination_link">3</a></li>
                        <li class="catalog_paggination_list"><a href="" class="catalog_paggination_link">4</a></li>
                        <li class="catalog_paggination_list"><a href="" class="catalog_paggination_link">5</a></li>
                        <li class="catalog_paggination_list"><a href="" class="catalog_paggination_link">6</a></li>
                        <li class="catalog_paggination_list"><a href="" class="catalog_paggination_link catalog_paggination_link_last">.....</a></li>
                        <li class="catalog_paggination_list"><a href="" class="catalog_paggination_link catalog_paggination_link_last">20</a></li>
                        <li class="catalog_paggination_list"><a href="" class="catalog_paggination_link ">></a></li>
                    </ul>
                    <a href="#" class="catalog_product_button_link">View All</a>
                </div>

            </div>
        </div>
    </section>
    <feature-comp/>
    </div>
</template>

<script>
import BreacrumbComp from '../views/BreadcrumbComp'
import FeatureComp from '../views/FeatureComp'

export default {

  data () {
    return {
      products: [],
      filtered: [],
      showNumber: 9,
      CartApi: this.$refs.cart
    }
  },
  components: {
    BreacrumbComp,
    FeatureComp
  },
  methods: {
    filter (userSearch) {
      const regexp = new RegExp(userSearch, 'i')
      this.filtered = this.products.filter(el => regexp.test(el.product_name))
    }
  },
  mounted () {
    this.$parent.$refs.get.getJson('http://localhost:8888/api/products')
      .then(data => {
        for (const el of data) {
          this.products.push(el)
          this.filtered.push(el)
        }
      })
  }
}
</script>
